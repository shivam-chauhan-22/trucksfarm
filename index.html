<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TrucksFarm - Find Your Perfect Truck</title>
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
    <!-- PapaParse for CSV parsing -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container flex justify-between items-center">
            <div class="logo">
                <img src="https://via.placeholder.com/150x50?text=TrucksFarm" alt="TrucksFarm Logo">
            </div>
            <nav class="nav">
                <a href="index.html">Home</a>
                <a href="popular-trucks.html">Popular Trucks</a>
                <a href="#categories">Categories</a>
                <a href="#contact">Contact</a>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container text-center">
            <h1>Discover the Best Trucks at TrucksFarm</h1>
            <p>Explore top models, compare specs, and find your perfect truck today!</p>
            <a href="popular-trucks.html" class="btn">Explore Popular Trucks</a>
        </div>
    </section>

    <!-- Categories Section -->
    <section id="categories" class="container">
        <h2>Browse by Category</h2>
        <div class="category-grid">
            <!-- Fuel Type -->
            <div class="category-card">
                <h3>Fuel Type</h3>
                <div id="fuelCategories" class="category-links"></div>
            </div>
            <!-- Brand -->
            <div class="category-card">
                <h3>Brand</h3>
                <div id="brandCategories" class="category-links"></div>
            </div>
            <!-- GVW Range -->
            <div class="category-card">
                <h3>GVW Range</h3>
                <div class="category-links">
                    <a href="popular-trucks.html">Below 10,000 kg</a>
                    <a href="popular-trucks.html">10,000 - 20,000 kg</a>
                    <a href="popular-trucks.html">Above 20,000 kg</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <p>&copy; 2025 TrucksFarm.com. All rights reserved.</p>
        <p>Visit our partners: <a href="https://example.com">example.com</a> | <a href="https://example.com">https://example.com</a></p>
    </footer>

    <!-- Back to Top Button -->
    <button id="backToTop" class="back-to-top">â†‘ Top</button>

    <script>
        // Load CSV to populate dynamic categories
        Papa.parse('TATACSVFILE2.csv', {
            download: true,
            header: true,
            complete: function(results) {
                const data = results.data.filter(row => row.modelName);

                // Populate Fuel Types
                const fuels = [...new Set(data.map(row => row['fuel-type']))];
                const fuelContainer = document.getElementById('fuelCategories');
                fuels.forEach(fuel => {
                    const link = document.createElement('a');
                    link.href = `popular-trucks.html?fuel=${fuel}`;
                    link.className = 'category-link';
                    link.textContent = fuel;
                    fuelContainer.appendChild(link);
                });

                // Populate Brands
                const brands = [...new Set(data.map(row => row.brandSlug))];
                const brandContainer = document.getElementById('brandCategories');
                brands.forEach(brand => {
                    const link = document.createElement('a');
                    link.href = `popular-trucks.html?brand=${brand}`;
                    link.className = 'category-link';
                    link.textContent = brand.charAt(0).toUpperCase() + brand.slice(1);
                    brandContainer.appendChild(link);
                });
            }
        });

        // Smooth Scroll for Anchor Links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });

        // Back to Top Button
        const backToTop = document.getElementById('backToTop');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 300) {
                backToTop.classList.add('visible');
            } else {
                backToTop.classList.remove('visible');
            }
        });

        backToTop.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    </script>